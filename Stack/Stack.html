
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Stack · Leetcode-swift 练习 </title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        <meta name="identifier" content="978-3-16-148410-0" scheme="ISBN">
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-intopic-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../Leetcode-400-250.html" />
    
    
    <link rel="prev" href="../Leetcode-category.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Leetcode-category.html">
            
                <a href="../Leetcode-category.html">
            
                    
                    Leetcode分类
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.2.1" data-path="Stack.html">
            
                <a href="Stack.html">
            
                    
                    Stack
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Leetcode-400-250.html">
            
                <a href="../Leetcode-400-250.html">
            
                    
                    Leetcode 250道重点题
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Stack</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="stack">Stack</h1>
<table>
<thead>
<tr>
<th>&#x9898;&#x53F7;</th>
<th>&#x9898;&#x76EE;&#x94FE;&#x63A5;</th>
<th>&#x8BF4;&#x660E;</th>
<th>&#x96BE;&#x5EA6;</th>
</tr>
</thead>
<tbody>
<tr>
<td>Stack</td>
<td><a href="https://github.com/luckyCity/swift-algorithm-club/tree/master/Stack" target="_blank">Stack</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>155</td>
<td><a href="https://leetcode.com/problems/min-stack/description/" target="_blank">Min Stack</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td>Esay</td>
</tr>
<tr>
<td>232</td>
<td><a href="https://leetcode.com/problems/implement-queue-using-stacks/description/" target="_blank">Implement Queue using Stacks</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td></td>
</tr>
<tr>
<td>225</td>
<td><a href="https://leetcode.com/problems/implement-stack-using-queues/description/" target="_blank">Implement Stack using Queues</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td></td>
</tr>
<tr>
<td>150</td>
<td><a href="https://leetcode.com/problems/evaluate-reverse-polish-notation/description/" target="_blank">Evaluate Reverse Polish Notation</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td>Medium</td>
</tr>
<tr>
<td>71</td>
<td><a href="https://leetcode.com/problems/simplify-path/description/" target="_blank">Simplify Path</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td>Medium</td>
</tr>
<tr>
<td>388</td>
<td><a href="https://leetcode.com/problems/longest-absolute-file-path/description/" target="_blank">Longest Absolute File Path</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td></td>
</tr>
<tr>
<td>394</td>
<td><a href="https://leetcode.com/problems/decode-string/" target="_blank">Decode String</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td></td>
</tr>
<tr>
<td>224</td>
<td><a href="https://leetcode.com/problems/basic-calculator/description/" target="_blank">Basic Calculator</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td></td>
</tr>
<tr>
<td>227</td>
<td><a href="https://leetcode.com/problems/basic-calculator-ii/description/" target="_blank">Basic Calculator II</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td></td>
</tr>
<tr>
<td>385</td>
<td><a href="https://leetcode.com/problems/mini-parser/description/" target="_blank">Mini Parser</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
<td></td>
</tr>
<tr>
<td>84</td>
<td><a href="https://leetcode.com/problems/largest-rectangle-in-histogram/description/" target="_blank">Largest Rectangle in Histogram</a></td>
<td><a href="https://cspiration.com/login" target="_blank">&#x89C6;&#x9891;&#x8BB2;&#x89E3;</a></td>
</tr>
</tbody>
</table>
<p>[TOC]</p>
<h2 id="stack">Stack</h2>
<pre><code class="lang-swift"><span class="hljs-comment">/*
 Last-in first-out stack (LIFO)
 Push and pop are O(1) operations.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stack</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
  fileprivate <span class="hljs-keyword">var</span> array = [<span class="hljs-type">T</span>]()

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> isEmpty: <span class="hljs-type">Bool</span> {
    <span class="hljs-keyword">return</span> array.isEmpty
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> <span class="hljs-built_in">count</span>: <span class="hljs-type">Int</span> {
    <span class="hljs-keyword">return</span> array.<span class="hljs-built_in">count</span>
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-number">_</span> element: T)</span></span> {
    array.append(element)
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">T</span>? {
    <span class="hljs-keyword">return</span> array.popLast()
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> top: <span class="hljs-type">T</span>? {
    <span class="hljs-keyword">return</span> array.last
  }
}

<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Stack</span>: <span class="hljs-title">Sequence</span> </span>{
  <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeIterator</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">AnyIterator</span>&lt;<span class="hljs-type">T</span>&gt; {
    <span class="hljs-keyword">var</span> curr = <span class="hljs-keyword">self</span>
    <span class="hljs-keyword">return</span> <span class="hljs-type">AnyIterator</span> {
      <span class="hljs-keyword">return</span> curr.pop()
    }
  }
}
</code></pre>
<h2 id="155-min-stack">155. Min Stack</h2>
<p>Design a stack that supports push, pop, top, and retrieving the minimum element in constant time.</p>
<ul>
<li>push(x) -- Push element x onto stack.</li>
<li>pop() -- Removes the element on top of the stack.</li>
<li>top() -- Get the top element.</li>
<li>getMin() -- Retrieve the minimum element in the stack.</li>
</ul>
<p><strong>Example 1:</strong></p>
<pre><code>Input
[&quot;MinStack&quot;,&quot;push&quot;,&quot;push&quot;,&quot;push&quot;,&quot;getMin&quot;,&quot;pop&quot;,&quot;top&quot;,&quot;getMin&quot;]
[[],[-2],[0],[-3],[],[],[],[]]

Output
[null,null,null,null,-3,null,0,-2]

Explanation
MinStack minStack = new MinStack();
minStack.push(-2);
minStack.push(0);
minStack.push(-3);
minStack.getMin(); // return -3
minStack.pop();
minStack.top();    // return 0
minStack.getMin(); // return -2
</code></pre><hr>
<ul>
<li><strong>&#x89E3;&#x6CD5;&#x4E00;&#x53CC;&#x6808;</strong></li>
</ul>
<pre><code class="lang-swift"><span class="hljs-keyword">import</span> Foundation

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MinStack</span> </span>{

    <span class="hljs-keyword">var</span> stack: [<span class="hljs-type">Int</span>]
    <span class="hljs-keyword">var</span> minStack: [<span class="hljs-type">Int</span>]

    <span class="hljs-comment">/** initialize your data structure here. */</span>
    <span class="hljs-keyword">init</span>() {
        stack = []
        minStack = []
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-number">_</span> x: Int)</span></span> {
        stack.append(x)
        <span class="hljs-keyword">if</span> minStack.<span class="hljs-built_in">count</span> == <span class="hljs-number">0</span> {
            minStack.append(x)
        } <span class="hljs-keyword">else</span> {
            minStack.append(<span class="hljs-built_in">min</span>(x, minStack[minStack.<span class="hljs-built_in">count</span> - <span class="hljs-number">1</span>]))
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span></span> {
        stack.removeLast()
        minStack.removeLast()
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">top</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">return</span> stack[stack.<span class="hljs-built_in">count</span> - <span class="hljs-number">1</span>]
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getMin</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">return</span> minStack[minStack.<span class="hljs-built_in">count</span> - <span class="hljs-number">1</span>]
    }
}
</code></pre>
<ul>
<li><strong>&#x89E3;&#x6CD5;&#x4E8C;minIndex</strong></li>
</ul>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MinStack</span> </span>{

    <span class="hljs-comment">/** initialize your data structure here. */</span>
    <span class="hljs-keyword">var</span> stackArray: [<span class="hljs-type">Int</span>]
    <span class="hljs-keyword">var</span> minIndex: <span class="hljs-type">Int</span> = <span class="hljs-number">0</span>
    <span class="hljs-keyword">init</span>() {
      stackArray = [<span class="hljs-type">Int</span>]()
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-number">_</span> x: Int)</span></span> {
      stackArray.append(x)
      <span class="hljs-keyword">let</span> currMin = stackArray[minIndex]
      <span class="hljs-keyword">if</span> x &lt; currMin {
          minIndex = stackArray.<span class="hljs-built_in">count</span> - <span class="hljs-number">1</span>
      }
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span></span> {
      stackArray.removeLast()
      adjustMinIndex()
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">top</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Int</span> {
      <span class="hljs-keyword">return</span> stackArray.last ?? <span class="hljs-number">0</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getMin</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Int</span> {
      <span class="hljs-keyword">return</span> stackArray[minIndex]
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">adjustMinIndex</span><span class="hljs-params">()</span></span> {
        minIndex = <span class="hljs-number">0</span>
        <span class="hljs-keyword">guard</span> stackArray.<span class="hljs-built_in">count</span> &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> {<span class="hljs-keyword">return</span>}
        <span class="hljs-keyword">var</span> temp = stackArray[minIndex]
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..&lt;stackArray.<span class="hljs-built_in">count</span> {
          <span class="hljs-keyword">if</span> stackArray[i] &lt; temp {
            temp = stackArray[i]
            minIndex = i
          }
        }
    }
}
</code></pre>
<h2 id="232--implement-queue-using-stacks">232.  Implement Queue using Stacks</h2>
<h2 id="150-evaluate-reverse-polish-notation">150. Evaluate Reverse Polish Notation</h2>
<p>Evaluate the value of an arithmetic expression in <a href="http://en.wikipedia.org/wiki/Reverse_Polish_notation" target="_blank">Reverse Polish Notation</a>.</p>
<p>Valid operators are <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>. Each operand may be an integer or another expression.</p>
<p><strong>Note:</strong></p>
<ul>
<li>Division between two integers should truncate toward zero.</li>
<li>The given RPN expression is always valid. That means the expression would always evaluate to a result and there won&apos;t be any divide by zero operation.</li>
</ul>
<p><strong>Example 1:</strong></p>
<pre><code>Input: [&quot;2&quot;, &quot;1&quot;, &quot;+&quot;, &quot;3&quot;, &quot;*&quot;]
Output: 9
Explanation: ((2 + 1) * 3) = 9
</code></pre><p><strong>Example 2:</strong></p>
<pre><code>Input: [&quot;4&quot;, &quot;13&quot;, &quot;5&quot;, &quot;/&quot;, &quot;+&quot;]
Output: 6
Explanation: (4 + (13 / 5)) = 6
</code></pre><p><strong>Example 3:</strong></p>
<pre><code>Input: [&quot;10&quot;, &quot;6&quot;, &quot;9&quot;, &quot;3&quot;, &quot;+&quot;, &quot;-11&quot;, &quot;*&quot;, &quot;/&quot;, &quot;*&quot;, &quot;17&quot;, &quot;+&quot;, &quot;5&quot;, &quot;+&quot;]
Output: 22
Explanation: 
  ((10 * (6 / ((9 + 3) * -11))) + 17) + 5
= ((10 * (6 / (12 * -11))) + 17) + 5
= ((10 * (6 / -132)) + 17) + 5
= ((10 * 0) + 17) + 5
= (0 + 17) + 5
= 17 + 5
= 22
</code></pre><ul>
<li><strong>&#x89E3;&#x6CD5;&#x4E00;</strong></li>
</ul>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">class</span>  <span class="hljs-title">ReversePolishNotation</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">eval</span><span class="hljs-params">(<span class="hljs-number">_</span> tokens: [String])</span></span> -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">var</span> intStack = [<span class="hljs-type">Int</span>]()
        <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> tokens {
            <span class="hljs-keyword">switch</span> token {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span>:
                <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> a = intStack.popLast(), <span class="hljs-keyword">let</span> b = intStack.popLast() <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>
                }
                intStack.append(a + b)

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span>:
                <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> a = intStack.popLast(), <span class="hljs-keyword">let</span> b = intStack.popLast() <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>
                }
                intStack.append(b - a)

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span>:
                <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> a = intStack.popLast(), <span class="hljs-keyword">let</span> b = intStack.popLast() <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>
                }
                intStack.append(b * a)
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span>:
                <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> a = intStack.popLast(), <span class="hljs-keyword">let</span> b = intStack.popLast() <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>
                }
                intStack.append(b / a)
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> n = <span class="hljs-type">Int</span>(token) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span> }
                intStack.append(n)
            }
        }
        <span class="hljs-keyword">return</span> intStack.last!
    }
}
</code></pre>
<ul>
<li><strong>&#x89E3;&#x6CD5;&#x4E8C;</strong></li>
</ul>
<pre><code class="lang-swift">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ReversePolishNotation1</span> </span>{
    <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Operation</span>: <span class="hljs-title">String</span> </span>{
        <span class="hljs-keyword">case</span> plus = <span class="hljs-string">&quot;+&quot;</span>
        <span class="hljs-keyword">case</span> minus = <span class="hljs-string">&quot;-&quot;</span>
        <span class="hljs-keyword">case</span> divive = <span class="hljs-string">&quot;/&quot;</span>
        <span class="hljs-keyword">case</span> mutiple = <span class="hljs-string">&quot;*&quot;</span>

        <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">comput</span><span class="hljs-params">(<span class="hljs-number">_</span> num1: Int, <span class="hljs-number">_</span> num2: Int)</span></span> -&gt; <span class="hljs-type">Int</span> {
            <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span> {
            <span class="hljs-keyword">case</span> .plus:
                <span class="hljs-keyword">return</span> num1 + num2
            <span class="hljs-keyword">case</span> .minus:
                <span class="hljs-keyword">return</span> num1 - num2
            <span class="hljs-keyword">case</span> .divive:
                <span class="hljs-keyword">return</span> num1 / num2
            <span class="hljs-keyword">case</span> .mutiple:
                <span class="hljs-keyword">return</span> num1 * num2
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">evalRPN</span><span class="hljs-params">(<span class="hljs-number">_</span> tokens: [String])</span></span> -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">var</span> opertationNumer: [<span class="hljs-type">Int</span>] = []

        tokens.forEach { (token) <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> num = <span class="hljs-type">Int</span>(token) {
                opertationNumer.append(num)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> operation = <span class="hljs-type">Operation</span>(rawValue: token) {
                <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> num2 = opertationNumer.popLast(),
                    <span class="hljs-keyword">let</span> num1 = opertationNumer.popLast() {
                    <span class="hljs-keyword">let</span> res = operation.comput(num1, num2)
                    opertationNumer.append(res)
                }
            }
        }
        <span class="hljs-keyword">return</span> opertationNumer.popLast()!
    }
}
</code></pre>
<h2 id="71-simplify-path">71. Simplify Path</h2>
<p>Given an <strong>absolute path</strong> for a file (Unix-style), simplify it. Or in other words, convert it to the <strong>canonical path</strong>.</p>
<p>In a UNIX-style file system, a period <code>.</code> refers to the current directory. Furthermore, a double period <code>..</code> moves the directory up a level.</p>
<p>Note that the returned canonical path must always begin with a slash <code>/</code>, and there must be only a single slash <code>/</code> between two directory names. The last directory name (if it exists) <strong>must not</strong> end with a trailing <code>/</code>. Also, the canonical path must be the <strong>shortest</strong> string representing the absolute path.</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: &quot;/home/&quot;
Output: &quot;/home&quot;
Explanation: Note that there is no trailing slash after the last directory name.
</code></pre><p><strong>Example 2:</strong></p>
<pre><code>Input: &quot;/../&quot;
Output: &quot;/&quot;
Explanation: Going one level up from the root directory is a no-op, as the root level is the highest level you can go.
</code></pre><p><strong>Example 3:</strong></p>
<pre><code>Input: &quot;/home//foo/&quot;
Output: &quot;/home/foo&quot;
Explanation: In the canonical path, multiple consecutive slashes are replaced by a single one.
</code></pre><p><strong>Example 4:</strong></p>
<pre><code>Input: &quot;/a/./b/../../c/&quot;
Output: &quot;/c&quot;
</code></pre><p><strong>Example 5:</strong></p>
<pre><code>Input: &quot;/a/../../b/../c//.//&quot;
Output: &quot;/c&quot;
</code></pre><p><strong>Example 6:</strong></p>
<pre><code>Input: &quot;/a//b////c/d//././/..&quot;
Output: &quot;/a/b/c&quot;
</code></pre><ul>
<li>&#x89E3;&#x6CD5;</li>
</ul>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimplifyPath</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">simplifyPath</span><span class="hljs-params">(<span class="hljs-number">_</span> paths: String)</span></span> -&gt; <span class="hljs-type">String</span> {
        <span class="hljs-keyword">let</span> paths = paths.components(separatedBy: <span class="hljs-string">&quot;/&quot;</span>)
        <span class="hljs-keyword">var</span> stack = [<span class="hljs-type">String</span>]()
        <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> paths {
            <span class="hljs-keyword">if</span> s == <span class="hljs-string">&quot;.&quot;</span>  || s == <span class="hljs-string">&quot;&quot;</span>{

            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> s == <span class="hljs-string">&quot;..&quot;</span> {
                <span class="hljs-keyword">let</span> <span class="hljs-number">_</span> = stack.popLast()
            } <span class="hljs-keyword">else</span> {
                stack.append(s)
            }
        }

        <span class="hljs-keyword">var</span> result = <span class="hljs-string">&quot;/&quot;</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..&lt;stack.<span class="hljs-built_in">count</span> {
            <span class="hljs-keyword">let</span> str = stack[i]
            <span class="hljs-keyword">if</span> i == stack.<span class="hljs-built_in">count</span> - <span class="hljs-number">1</span> {
                result += stack[i]
            } <span class="hljs-keyword">else</span> {
                result += str + <span class="hljs-string">&quot;/&quot;</span>
            }
        }

        <span class="hljs-keyword">return</span> result
    }
}
</code></pre>
<h2 id="388-longest-absolute-file-path">388. Longest Absolute File Path</h2>
<p>Suppose we abstract our file system by a string in the following manner:</p>
<p>The string <code>&quot;dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext&quot;</code> represents:</p>
<pre><code>dir
    subdir1
    subdir2
        file.ext
</code></pre><p>The directory <code>dir</code> contains an empty sub-directory <code>subdir1</code> and a sub-directory <code>subdir2</code> containing a file <code>file.ext</code>.</p>
<p>The string <code>&quot;dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext&quot;</code> represents:</p>
<pre><code>dir
    subdir1
        file1.ext
        subsubdir1
    subdir2
        subsubdir2
            file2.ext
</code></pre><p>The directory <code>dir</code> contains two sub-directories <code>subdir1</code> and <code>subdir2</code>. <code>subdir1</code> contains a file <code>file1.ext</code> and an empty second-level sub-directory <code>subsubdir1</code>. <code>subdir2</code> contains a second-level sub-directory <code>subsubdir2</code> containing a file <code>file2.ext</code>.</p>
<p>We are interested in finding the longest (number of characters) absolute path to a file within our file system. For example, in the second example above, the longest absolute path is <code>&quot;dir/subdir2/subsubdir2/file2.ext&quot;</code>, and its length is <code>32</code> (not including the double quotes).</p>
<p>Given a string representing the file system in the above format, return the length of the longest absolute path to file in the abstracted file system. If there is no file in the system, return <code>0</code>.</p>
<p><strong>Note:</strong></p>
<ul>
<li>The name of a file contains at least a <code>.</code> and an extension.</li>
<li>The name of a directory or sub-directory will not contain a <code>.</code>.</li>
</ul>
<p>Time complexity required: <code>O(n)</code> where <code>n</code> is the size of the input string.</p>
<p>Notice that <code>a/aa/aaa/file1.txt</code> is not the longest file path, if there is another path <code>aaaaaaaaaaaaaaaaaaaaa/sth.png</code>.</p>
<pre><code class="lang-swift"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">lengthLongestPath</span><span class="hljs-params">(<span class="hljs-number">_</span> input: String)</span></span> -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">guard</span> input != <span class="hljs-literal">nil</span> || input.<span class="hljs-built_in">count</span> != <span class="hljs-number">0</span> <span class="hljs-keyword">else</span>
        {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        }
        <span class="hljs-comment">//&#x521B;&#x5EFA;&#x6574;&#x5F62;&#x5806;&#x6808;&#xFF0C;&#x5B58;&#x653E;&#x5404;&#x7EA7;&#x6587;&#x4EF6;&#x957F;&#x5EA6;</span>
        <span class="hljs-keyword">var</span> stackOfLen = <span class="hljs-type">Stack</span>&lt;<span class="hljs-type">Int</span>&gt;()
        <span class="hljs-keyword">var</span> strArray = input.characters.<span class="hljs-built_in">split</span>{$<span class="hljs-number">0</span> == <span class="hljs-string">&quot;\n&quot;</span>}.<span class="hljs-built_in">map</span>(<span class="hljs-type">String</span>.<span class="hljs-keyword">init</span>)
        <span class="hljs-keyword">var</span> longesLen:<span class="hljs-type">Int</span> = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..&lt;strArray.<span class="hljs-built_in">count</span>
        {
            <span class="hljs-keyword">let</span> item:<span class="hljs-type">String</span> = strArray[i]
            <span class="hljs-comment">////&#x8BA1;&#x7B97;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x7684;&#x5C42;&#x7EA7;</span>
            <span class="hljs-keyword">var</span> level = <span class="hljs-type">LastIndexOf</span>(item)
            <span class="hljs-comment">//&#x8FD4;&#x56DE;&#x5230;&#x4E0A;&#x4E00;&#x4E2A;&#x540C;&#x7EA7;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;,&#x6CE8;&#x610F;&#x4F7F;&#x7528;count(),&#x800C;&#x975E;count</span>
            <span class="hljs-comment">//&#x4F8B;&#x5982;&#xFF1A;&#x793A;&#x4F8B;&#x4E2D;&#x9047;&#x5230; \tsubdir2 &#x65F6;&#x8FD4;&#x56DE;&#x5230;&#x4E0E;&#x5B83;&#x540C;&#x7EA7;&#x7684; \tsubdir1 &#x4F4D;&#x7F6E;</span>
            <span class="hljs-keyword">while</span>(stackOfLen.<span class="hljs-built_in">count</span>() &gt; level)
            {
                stackOfLen.pop()
            }
            <span class="hljs-keyword">let</span> tempLen:<span class="hljs-type">Int</span> = item.<span class="hljs-built_in">count</span> - level
            <span class="hljs-keyword">if</span> stackOfLen.<span class="hljs-built_in">count</span>() == <span class="hljs-number">0</span>
            {
                stackOfLen.push(tempLen)
            }
            <span class="hljs-keyword">else</span>
            {
                <span class="hljs-comment">////&#x52A0;1 &#x662F;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5E26;&#x6709; / &#x5206;&#x5272;</span>
                <span class="hljs-keyword">let</span> num:<span class="hljs-type">Int</span> = tempLen + stackOfLen.<span class="hljs-type">GetLastElement</span>() + <span class="hljs-number">1</span>
                stackOfLen.push(num)
            }
            <span class="hljs-keyword">if</span> item.<span class="hljs-built_in">contains</span>(<span class="hljs-string">&quot;.&quot;</span>)
            {
                longesLen = <span class="hljs-built_in">max</span>(longesLen,stackOfLen.<span class="hljs-type">GetLastElement</span>())
            }
        }
        <span class="hljs-keyword">return</span>  longesLen
    }
    <span class="hljs-comment">//&#x83B7;&#x53D6;&#x6700;&#x540E;&#x4E00;&#x4E2A;&quot;\t&quot;&#x7684;&#x7D22;&#x5F15;&#x6574;&#x6570;&#x4F4D;&#x7F6E;</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">LastIndexOf</span><span class="hljs-params">(<span class="hljs-number">_</span> item:String)</span></span> -&gt; <span class="hljs-type">Int</span>
    {
        <span class="hljs-keyword">var</span> num:<span class="hljs-type">Int</span> = <span class="hljs-number">0</span>
        <span class="hljs-keyword">var</span> itemReversed:<span class="hljs-type">ReversedCollection</span>&lt;<span class="hljs-type">String</span>&gt; = item.reversed()
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..&lt;itemReversed.<span class="hljs-built_in">count</span>
        {
            <span class="hljs-keyword">var</span> char:<span class="hljs-type">Character</span> = itemReversed[itemReversed.index(itemReversed.startIndex, offsetBy: i)]
            <span class="hljs-keyword">if</span>  char == <span class="hljs-string">&quot;\t&quot;</span>
            {
                <span class="hljs-comment">//&#x6CE8;&#x610F;&#x7D22;&#x5F15;&#x4E5F;&#x8981;&#x53CD;&#x8F6C;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x4E3A;&#x7D22;&#x5F15;&#x4F4D;&#x7F6E;+1</span>
                num = item.<span class="hljs-built_in">count</span> - i
                <span class="hljs-keyword">break</span>
            }
        }
        <span class="hljs-keyword">return</span> num
    }

    <span class="hljs-comment">//&#x5806;&#x6808;&#x7684;&#x6CDB;&#x578B;&#x901A;&#x7528;&#x7248;&#x672C;</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stack</span>&lt;<span class="hljs-title">Element</span>&gt; </span>{
        <span class="hljs-keyword">var</span> items = [<span class="hljs-type">Element</span>]()
        <span class="hljs-comment">//&#x5165;&#x6808;</span>
        <span class="hljs-comment">//mutating &#x5173;&#x952E;&#x5B57;&#x4FEE;&#x9970;&#x65B9;&#x6CD5;&#x662F;&#x4E3A;&#x4E86;&#x80FD;&#x5728;&#x8BE5;&#x65B9;&#x6CD5;&#x4E2D;&#x4FEE;&#x6539; struct &#x6216;&#x662F; enum &#x7684;&#x53D8;&#x91CF;</span>
        <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-number">_</span> item: Element)</span></span> {
            items.append(item)
        }
        <span class="hljs-comment">//&#x51FA;&#x6808;</span>
        <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Element</span> {
            <span class="hljs-keyword">return</span> items.removeLast()
        }
        <span class="hljs-comment">//&#x8FD4;&#x56DE;&#x5806;&#x6808;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E2A;&#x6570;</span>
        <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">count</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Int</span>
        {
            <span class="hljs-keyword">return</span> items.<span class="hljs-built_in">count</span>
        }
        <span class="hljs-comment">//&#x83B7;&#x53D6;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;</span>
        <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetLastElement</span><span class="hljs-params">()</span></span>-&gt;<span class="hljs-type">Element</span>
        {
            <span class="hljs-keyword">return</span> items[items.<span class="hljs-built_in">count</span>-<span class="hljs-number">1</span>]
        }
    }
}
</code></pre>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; dsx2016.com 2019 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x7AE0;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2020-06-23 22:11:09
</span></footer>
<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../Leetcode-category.html" class="navigation navigation-prev " aria-label="Previous page: Leetcode分类">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../Leetcode-400-250.html" class="navigation navigation-next " aria-label="Next page: Leetcode 250道重点题">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Stack","level":"1.2.1","depth":2,"next":{"title":"Leetcode 250道重点题","level":"1.3","depth":1,"path":"Leetcode-400-250.md","ref":"Leetcode-400-250.md","articles":[]},"previous":{"title":"Leetcode分类","level":"1.2","depth":1,"path":"Leetcode-category.md","ref":"Leetcode-category.md","articles":[{"title":"Stack","level":"1.2.1","depth":2,"path":"Stack/Stack.md","ref":"Stack/Stack.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["back-to-top-button","chapter-fold","code","splitter","-lunr","-search","search-pro","custom-favicon","pageview-count","tbfed-pagefooter","popup","intopic-toc"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy dsx2016.com 2019","modify_label":"该文章修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"chapter-fold":{},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"intopic-toc":{"isCollapsed":false,"isScrollspyActive":true,"label":{"de":"In diesem Artikel","en":"In this article"},"maxDepth":2,"mode":"nested","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6","visible":true},"splitter":{},"search-pro":{},"popup":{},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"serif","size":2},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":false,"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right","showLevelIcon":false},"showLevel":true},"favicon":"./icon/book.ico","back-to-top-button":{},"pageview-count":{},"custom-favicon":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"isbn":"978-3-16-148410-0","variables":{},"title":"Leetcode-swift 练习 ","gitbook":"*","description":"日常记录","direction":"ltr"},"file":{"path":"Stack/Stack.md","mtime":"2020-06-23T14:11:09.699Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-06-23T14:16:27.470Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/gumshoe.polyfills.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-intopic-toc/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

